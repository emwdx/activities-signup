<html>
    <head>
        <title>HIS ASA Sign-Up</title>
        <link rel="stylesheet" type="text/css" href="../bootstrap/css/bootstrap.css">
        <script  type="text/javascript" src="../jquery/jquery-1.7.2.min.js"></script>
        <script type="text/javascript" src="../backbone/underscore-min.js"></script>
        <script type="text/javascript" src="../backbone/backbone.js"></script>
       

        
       
    </head>
    <body>
    <div class = "container">
    <img src = "hisbanner.png">
    <h2>After School Activity (ASA) Sign-up</h2>
   
    
        <div id="main"></div>
    </body>
</html>

//Below is the template for parents to enter authentication information for their child. I'm also thinking of adding a DOB field here.

 <script type="text/template" id="loginBox">
  Please enter your information below:
<form class="form-horizontal">
  <div class="control-group">
    <label class="control-label" for="inputParentID">Parent Username</label>
    <div class="controls">
      <h2><input type="text" id="inputParent" placeholder="Parent Username" ></h2>
    </div>
  </div>
  <div class="control-group">
    <label class="control-label" for="studentID">Your child's ID number:</label>
    <div class="controls">
      <input type="text" id="studentID" placeholder="Student ID Number" >
    </div>
  </div>
  <div class="control-group">
    <div class="controls">
      
      <button class="btn" id = "submit"><a href = "#waiting">Sign in</a></button>
    </div>
  </div>
</form>
 </script>


//The next template fills the #main div while waiting to hear back from the server on whether or not records were found matching
the parentID/studentID combination. If so, the server should send back a JS array with five objects, one for each day of the week.*/

<script type="text/template" id="waiting">
<h3> Please wait while we load your records.</h3>
<div class="controls">
      
      <button class="btn" id = "next"><a href = "#selection">Next</a></button>
    </div>
 </script>

<script type="text/template" id="selection">
<h4>The available activities for each day are listed below. Please select the activities your child would like to attend. Only one activity per day will be recorded.</h4>

//This is where I would iterate over each activityDay collection element and show the available activities and their attributes.
//An HTML option element would be included next to each one so that parents could only select one at a time.
//I also can imagine a view here that shows which activities have been selected for each day. This clearly isn't here.


 </script>

<script>

        (function($){
		
		  //
		  Activity = Backbone.Model.extend({
		  
		  defaults: {
		  
		  "id":'',
		  "grades":[9,12], //This lists which grades 
		  "name":'Activity Name',
		  "desc":'This activity does not have a description',
		  "atCapacity": false  
		  
		  }
		  		  
		  });
			
		  //There will be one activityDay for each day M - F. It will have all of the activities that match the grade level for the student identified by the authentication information.		
			
		  activityDay = Backbone.Collection.extend({
		  
		  Model: Activity,
		  url: '#'
		  
		  });


		  Student = Backbone.Model.extend({
		  
		  defaults = {
		  "studentID" : '',
		  "DOB":'',
		  "grade": -10,	//Leave default grade as -10 to indicate that the grade hasn't been set. Actual grades range from -3 to 12.
		  "parentID":'',
		  "activities":[0,0,0,0,0]	//This array will hold the ID numbers of the activities the student has selected		  
		  }
		  
		  
		  
		  });


          loginView = Backbone.View.extend({
          el: '#main',
          
          initialize: function(){
          
          this.template = _.template($('#loginBox').html());
          this.render();
          
          },
          
          render: function(){
          this.$el.empty();
          this.$el.append(this.template());
          return this;
          
          
          }
            
          });
          
          
          waitingView = Backbone.View.extend({
          
          el: '#main',
          
          initialize: function(){
          
          this.template = _.template($('#waiting').html());
          this.render();
          
          },
          
          render: function(){
          
          this.$el.empty();
          this.$el.append(this.template());
          return this;
          
          }
          
          
          });
          
          selectionView = Backbone.View.extend({
          
          el: '#main',
          
          initialize: function(){
          
          this.template = _.template($('#selection').html());
          this.render();
          
          },
          
          render: function(){
          
          this.$el.empty();
          this.$el.append(this.template());
          return this;
          
          }
          
          
          });
          
          
          AppRouter = Backbone.Router.extend({

            routes:{
                "":"home",
                "waiting":"waiting",
                "selection":"selection"
                
            },

            home:function() {
              console.log('login');
              new loginView();
            },

            waiting:function() {
              console.log('waiting');
              new waitingView();
            },
            
            selection:function() {
              console.log('selection');
              new selectionView();
            }

          });

        })(jQuery);

$(document).ready(function(){


approuter = new AppRouter();
Backbone.history.start();



});

</script>
